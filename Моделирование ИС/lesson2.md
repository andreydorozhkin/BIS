Моделирование информационных систем

# Лекция №2
### Основные модели

1. Модель классов - определяет контекст разработки (предметная область), модели классов - диаграмма классов
2. Модель взаимодействия - описывает кооперацию объектов системы, разработка начинается с построения модели вариантов использования, которая затем уточняется на диаграммах последовательности и деятельности.
3. Модель состояний - описывает изменяющийся со временм аспекты объектов, данная модели организуется посредством диаграмм состояний

Модель взаимодействия представляет собой глобальный взгляд на поведение множества объектов, тогда как модель состояний это редуцированное представление поведения отдельных объектов. Для полного описания поведения необходимы обе модели. 

Взаимодействие можно моделировать на различных уровнях абстрагирования. На самом высоком уровне взаимодействия системы с внешними действующими лицами, описывается вариантами использования. Они полезны для представления в модели неформальных требований. Диаграммы последовательности более детализированы, они показывают сообщения, которыми обмениваются объекты, с течением времени. Диаграмма деятельности содержит весь набор информации и показывает поток управления между процессами (этапами вычислений).


### Моделирование вариантов использования
Дейстующее лицо (актер) - это непосредственный внешний пользователь системы. Это объект или множество объектов, непосредственно взаимодействующих с системой, но не являющихся ее частью. Каждое дейтсвующее лицо является обобщение группы объектов, ведущих себя определенным образом по отношению к системе. Действующими лицами могут быть люди, технические устройства и другие системы. Все что взаимодействует с разрабатываемой системой непосредственно. Действующее лицо должно иметь одну четко определенную цель. 

Объекты и классы обычно сочетают в себе несколько назначений или целей. Действующее лицо представляет лишь одну грань объекта в его взаимодействие с системой. Одно и тоже лицо может представлять объекты разных классов, которые ведут себя одинково по отношению к системе. Каждое действующее лицо обладает согласованным набором возможностей тех объектов, которое оно представляет.

Моделирование действующих лиц позволяет определить границы системы, то есть идентифицировать объекты, находящиеся внутри системы и объекты лежащие на ее границе. Действующее лицо непосредственно взаимодействует с системой. 
Объекты участвующие в косвенных взаимодействиях с системой не являются действующими лицами и не включаются в модель. 
Различные взаимодействия действующих лиц с системой группируются в варианты использования.

**Вариант использования** (use case) - это связанный элемент функциональности, предоставляемый системой при взаимодейтсвие с действующими лицами. В каждом варианте использования участвуют одно или несколько действующих лиц и система. Вариант использования подразумевает обмен последовательностью сообщений между системой и действующими лицами. Некоторые варианты использования характеризуются фиксированной последовательностью сообщений. Однако чаще последовательность сообщений может варьироваться в определенных пределах. 
Вариации таких последовательностей можно показать продемонстрировав несколько отличающихся между собой последовательностью поведения. Обычно сначал определяется основная последовательность, а затем необязательные, повторения и вариации.
Ошибки и сбойные ситуации являются также частью вариантов использования. 

Таким образом, вариант использования объединяет следующие элементы системы:
- вариации нормального поведения
- нормальное поведение
- ошибки
- исключительные ситуации
- сбоиные ситуации
- отмены запросов

### Пример
**Вендинговый аппарат**

#### Выдача товары:

Краткое описание: клиент покупает товар

Действующие лица: клиент

Исходные условия:cистема ожидает опускание монет или купюр

Описание:

Система изначально находится в состоянии ожидания и выводит на экран сообщение "Опустите монеты или купюры". Клиент передает денежные средства, а дисплей выдает принятую сумму. Система подсвечивает кнопки с названиями товаров. Система выдает соответствующий товар и сдачу, если клиент передал денег больше чем стоимость товара.
Исключения (генерируются нами):
1. **Отмена**

*Если клиент нажал кнопку отмены до того, как произвел выбор товара, то система возвращает клиенту деньги и переходит в состояние ожидания*

2. **Товар отсутствует**

*Если клиент выбрал товар, который в данный момент отсутсвует в системе выводится соответствующее сообщение на дисплей. Система готова к приему денег и новому выбору товара.*

3. **Недостаточно денег**

*Если клиент выбирает товар, который стоит больше чем он заплатил, то система выводит сообщений "Необходим доплатить n денег", система продолжает прием денег и готова к новому выбору товара.*

4. **Нет сдачи**

*Если клиент загрузил достаточное количество денег, а система не может выдать ему правильно сдачу, то выводится сообщение о невозможности выдать сдачу, система продолжает принимать деньги и готова к выбору товара покупателем.*

Постусловия:
Система находится в состоянии ожидания и готова принимать деньги.



Сложные системы требуют структурирования вариантов использования. Составные варианты использования можно конструировать из более примитивных при помощи отношений включения, расширения и обобщения.

**Отношений включения** позволяет включить последовательность поведения одного варианта использования в другой вариант. Включаемый вариант подобен подпрограмме, то есть описывает поведение, которое в противном случае пришлось бы повторять. Часто включаемый вариант использования является осмысленной единицей поведения, с точки зрения действующих лиц. Однако, это условие не является обязательным. 
В UML используется пунктирная стрелка, направленная от исходного (включающего) варинта к целевому (включаемому). Над стрелкой указывается *include*. В текстовом варианте использования используется надпись *include название варианта использования*

**Отношение расширения** добавляет к варианту использования дополнительное поведение.  В случае расширения один вариант использования расширяющий добавляет себя к другому варианту использования (базовому). Расширение описывает следующую типичную ситуацию - изначально определяются некоторые возможности системы, к которым затем добавляются новые функции.
Отношение расширения обозначается как пунктирная стрелка направленная от расширяющего варианта к базовому варианту. Над стрелкой ключевое слово *extend*. Часто расширяющий вариант использования представляет собой фрагмент, который не может присутствовать в модели, как отдельная последовательность поведения. Базовый вариант использования должен быть корректным и самостоятельным и допускающим применение без всяких расширений. 

**Отношение обобщения** позволяет описывать вариации базового варианта использования, аналогично обобщению для классов. Вариант исопльзования являющийся предком описывает общую последовательность поведения, добавляя новые элементы в его последовательность или уточняя существующие. Отношения обобщения обозначаются стрелкой, конец которой находится у потомка, а треугольная стрелка указывает на предка.
На практике не рекомендуется включать в модель конкретные варианты использования, которые являются предками для других вариантов использования. В этом случае вариант предок не перегружается обработкой особых ситуаций, а модель становится более симметричной. Варианты использования обладают полиморфизмом: потомок варианта использования может свободно подставляться вместо предка. Для вариантов использования не поддерживается концепция множественного наследования. 








